# =============================================================================
# Angple Backend Environment Configuration
# =============================================================================
#
# 환경 선택:
#   APP_ENV 값에 따라 configs/config.{APP_ENV}.yaml 파일이 로드됩니다.
#   - local:   로컬 개발 환경 (기본값)
#   - dev:     개발 서버
#   - staging: 스테이징 서버
#   - prod:    운영 서버
#
# 우선순위:
#   1. 환경변수 (DB_PASSWORD, JWT_SECRET 등)
#   2. config.{APP_ENV}.yaml 파일
#
# =============================================================================

# -----------------------------------------------------------------------------
# Environment Selection (필수)
# -----------------------------------------------------------------------------
APP_ENV=local

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# config 파일에서 빈 값("")으로 설정된 경우, 환경변수로 주입됨

# 로컬 개발: 127.0.0.1
# 개발/스테이징: 내부 RDS 엔드포인트
# 운영: 운영 RDS 엔드포인트
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your-db-password

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------
# 운영 환경에서는 반드시 강력한 비밀키 사용

# API 자체 JWT (access/refresh token)
JWT_SECRET=your-jwt-secret-key

# damoang.net 메인 사이트 JWT (damoang_jwt 쿠키 검증용)
DAMOANG_JWT_SECRET=your-damoang-jwt-secret

# -----------------------------------------------------------------------------
# Redis Configuration (선택)
# -----------------------------------------------------------------------------
# config 파일에 기본값이 있으므로 대부분 불필요
REDIS_HOST=localhost
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Data Paths (선택)
# -----------------------------------------------------------------------------
# AI 추천 데이터 경로 (운영: /home/damoang/www/data/cache/recommended)
RECOMMENDED_DATA_PATH=

# -----------------------------------------------------------------------------
# Docker Compose용 MySQL (로컬 개발 전용)
# -----------------------------------------------------------------------------
MYSQL_ROOT_PASSWORD=root123
MYSQL_DATABASE=damoang
MYSQL_USER=damoang
MYSQL_PASSWORD=damoang123

# =============================================================================
# 환경별 실행 예시
# =============================================================================
#
# 로컬 개발:
#   APP_ENV=local go run cmd/api/main.go
#
# Docker 개발:
#   docker run -e APP_ENV=dev -e DB_PASSWORD=xxx ...
#
# Docker 운영:
#   docker run -e APP_ENV=prod \
#     -e DB_PASSWORD=xxx \
#     -e JWT_SECRET=xxx \
#     -e DAMOANG_JWT_SECRET=xxx \
#     angple-api
#
# =============================================================================
